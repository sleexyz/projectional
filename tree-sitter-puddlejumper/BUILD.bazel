load("//:coarse.bzl", "base_dir", "dir_overlay")

package(default_visibility = ["//visibility:public"])

base_dir(
    name = "sources",
    path = "tree-sitter-puddlejumper",
    srcs = glob(
        ["**/*"],
        exclude = [
            ".gitignore",
            "node_modules/**/*",
            "target/**/*",
            "test/**/*",
        ],
    ),
)

dir_overlay(
    name = "build",
    cmd = "cargo build",
    dir = ":sources",
)
